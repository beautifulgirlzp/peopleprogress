var app=angular.module("qmgj",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"view/home.html",controller:"homeController"}).state("projectList",{url:"/projectList",templateUrl:"view/projectList.html",controller:"projectListController"}).state("login",{url:"/login",templateUrl:"view/loginView.html",controller:"loginController"}).state("password",{url:"/password",templateUrl:"view/password.html",controller:"passwordController"}).state("register",{url:"/register",templateUrl:"view/registerView.html",controller:"registerController"}).state("detail",{url:"/detail/:index ",templateUrl:"view/detail.html",controller:"detailController"}).state("selfindex",{url:"/selfindex",templateUrl:"view/selfindex.html",controller:"selfindexController"}).state("selfindex.selfhome",{url:"/selfhome",templateUrl:"view/selfhome.html"}).state("selfindex.selfInfo",{url:"/selfInfo",templateUrl:"view/selfInfo.html"}).state("selfindex.selfsecure",{url:"/selfsecure",templateUrl:"view/selfsecure.html"}).state("selfindex.selfcircle",{url:"/selfcircle",templateUrl:"view/selfcircle.html"}).state("selfindex.buyRecord",{url:"/buyRecord",templateUrl:"view/buyRecord.html"}).state("fillIn",{url:"/fillIn",templateUrl:"view/fillIn.html"}).state("payPage",{url:"/payPage",templateUrl:"view/payPage.html"}).state("payComplate",{url:"/payComplate",templateUrl:"view/payComplate.html"})}]),app.controller("detailController",["$scope","$http","$stateParams",function(e,t,r){t({url:"json/projectList.json"}).success(function(t){e.item=t[r.index],e.showActive=0,e.showIndex=0,e.chose=function(t){e.showActive=t,e.showIndex=t}})}]),app.controller("homeController",["$scope","$interval","$http","$stateParams",function(e,t,r,n){e.dataAttr=["image/banner3.png","image/banner2.png"],e.name=["《晚秋》再现舞台","《犹太人在上海》音乐剧"],e.introduce=["汤唯、玄彬继电影后，首次在话剧舞台合作，重现美国西雅图两名男女身在异国他乡的爱情故事。","中国、以色列联合创作的大型音乐剧《犹太人在上海》以音乐剧这一公认最具挑战性的艺术形式..."],e.showIndex=0;var o=function(){return e.showIndex>=e.dataAttr.length-1?void(e.showIndex=0):void e.showIndex++},l=t(o,2e3);e.end=function(r){t.cancel(l),e.showIndex=r},e.start=function(){l=t(o,2e3)},e.prev=function(){return t.cancel(l),e.showIndex<=0?void(e.showIndex=e.dataAttr.length-1):(e.showIndex--,void e.start())},e.next=function(){return t.cancel(l),e.showIndex>=e.dataAttr.length-1?void(e.showIndex=0):(e.showIndex++,void e.start())},r({url:"json/projectList.json"}).success(function(t){e.movieAttr=t,e.currentIndex=2,e.currentMessage=t[e.currentIndex],e.showFn=function(r,n){e.currentIndex=r;for(var o=0;o<t.length;o++)if(t[o].sort===n)return e.currentMessage=t[o]}}),r({url:"json/sort.json"}).success(function(t){e.sort=t})}]),app.controller("loginController",["$scope",function(e){e.state=!1,e.checkOn=function(){e.state=!e.state}}]),app.controller("passwordController",["$scope","$interval",function(e,t){e.description="发送验证码";var r,n=59;e.sendCode=function(){r||(r=t(function(){n<=0?(t.cancel(timerHidler),e.description="发送验证码",n=59,r=0):(e.description=n+"秒后重发",n--)},1e3))}}]),app.controller("projectListController",["$scope","$http",function(e,t){t({url:"json/projectList.json"}).success(function(t){e.detailAttr=t,e.curIndex=-1,e.myfliterModel="",e.showImg=function(t,r){e.curIndex=t,e.myfliterModel=r},e.filterFn=function(t){return""==e.myfliterModel||t.sort==e.myfliterModel}}),t({url:"json/sort.json"}).success(function(t){e.sorts=t})}]),app.controller("registerController",["$scope","$interval",function(e,t){e.sta=!1,e.checkOn=function(){e.sta=!e.sta},e.description="获取验证码";var r,n=59;e.sendCode=function(){r||(r=t(function(){n<=0?(t.cancel(r),n=59,e.description="获取验证码",r=0):(e.description="已发送,"+n+"秒后重发",n--)},1e3))}}]),app.controller("selfindexController",["$scope","$http","$timeout",function(e,t,r){t({url:"json/selfindex.json"}).success(function(t){e.smallPicture=t[0].list1,e.bigPicture=t[0].list2,e.dataAttr=t[0].list3,e.filterBy=e.dataAttr.status}),e.curindex=0,e.checkOn=function(t){e.curindex=t},e.sortwordsAttr=["微电影","电影","电视剧","戏曲","相声","书画","话剧","戏剧","音乐剧","歌剧"],e.blankAttr=[];for(var n=0;n<e.sortwordsAttr.length;n++)e.blankAttr[n]=!1,e.blankAttr[1]=!0,e.blankAttr[9]=!0;e.clickFn=function(t){e.blankAttr[t]=!e.blankAttr[t]},e.sexState=!0,e.sexsortIndex=0,e.clickSex=function(t){e.sexsortIndex!=t&&(e.sexsortIndex=t,e.sexState=!e.sexState)},e.choseAttr=[{name:"修改密码"},{name:"实名认证"},{name:"邮箱认证"}],e.showIndex=0,e.choice=function(t){e.showIndex=t},e.myfliterModel={status:""},e.showIndex=0,e.dataAttr=[],e.filterStatus=0,e.checkContent=function(t){e.myfliterModel={status:["",0,1][t]},e.showIndex=t,e.filterStatus=t}}]);